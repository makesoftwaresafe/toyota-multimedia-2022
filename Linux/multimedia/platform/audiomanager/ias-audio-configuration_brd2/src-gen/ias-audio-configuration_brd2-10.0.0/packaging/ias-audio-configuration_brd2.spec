#
# This file was automatically generated by audio_configurator
#
Name:           ias-audio-configuration_brd2
Version:        10.0.0
Release:        0
Summary:        IAS audio configuration for brd2
Vendor:         Intel corp.
Group:          Media/Audio
License:        Intel proprietary
Source0:        %{name}-%{version}.tar.gz
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}
BuildRequires:  cmake
BuildRequires:  gcc-c++
BuildRequires:  ias-utils-build_tools
BuildRequires:  ias-audio-delay-devel ias-audio-limiter-devel ias-audio-equalizer-devel ias-audio-volume-devel ias-audio-mixer-devel ias-audio-rtprocessingfwconfig-devel ias-core_libraries-foundation-devel 
Provides:       ias-audio-configuration_brd2 = %{version}-%{release}

%description -n ias-audio-configuration_brd2
IAS audio configuration for brd2

%post -n ias-audio-configuration_brd2
/sbin/ldconfig

%postun -n ias-audio-configuration_brd2
/sbin/ldconfig

%files -n ias-audio-configuration_brd2
%defattr(-,root,root,-)
/etc/asound.conf
/usr/share/alsa/alsa.conf.d/50-jack.conf
/usr/lib/systemd/system/audio_daemon.service
/usr/lib/systemd/system/audio_daemon.path
/usr/lib/systemd/system/jackd.service
#/lib/firmware/fw_sst_0f28.bin
/usr/%{_lib}/audio-plugins/libias-audio-configuration_brd2.so


%package -n ias-audio-configuration_brd2-devel
Summary:        ias-audio-configuration_brd2: Development files
Group:          Development/Libraries
Requires:       ias-audio-configuration_brd2 = %{version}-%{release}
Requires:       ias-audio-delay-devel ias-audio-limiter-devel ias-audio-equalizer-devel ias-audio-volume-devel ias-audio-mixer-devel ias-audio-rtprocessingfwconfig-devel ias-core_libraries-foundation-devel 
Provides:       ias-audio-configuration_brd2-devel = %{version}-%{release}

%description -n ias-audio-configuration_brd2-devel
This package provides the development headers and libraries for ias-audio-configuration_brd2.

%files -n ias-audio-configuration_brd2-devel
%defattr(-,root,root,-)
/opt/sdk/include/audio/configuration_brd2/IasAudioIdentifiers.hpp
/opt/sdk/cmake/Modules/Findias-audio-configuration_brd2.cmake

#
# Build process on OBS
#
%prep
%setup -q

%build
SRC_DIR=`pwd`
mkdir -p build
cd build
cmake -DVARIANT=brd2 -DCMAKE_BUILD_TYPE=Release -DIAS_EXTERNAL_BUILD_SOURCE_DIR=$SRC_DIR -DIAS_DISABLE_TESTS=true -DCMAKE_INSTALL_PREFIX=$RPM_BUILD_ROOT /opt/build_tools/cmake
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT
cd build
make install

%clean
rm -rf $RPM_BUILD_ROOT
